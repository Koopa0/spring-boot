<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>

    <!-- Bootstrap CSS ------------------------------------------------------------------------->

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
          integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous"/>

    <!-- animate.style CSS --------------------------------------------------------------------->
    <!--   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" /> -->
    <!-- Input CSS End---------------------------------------------------------------------->

    <!-- Input CSS End---------------------------------------------------------------------->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/semantic-ui/2.2.4/semantic.min.css">
    <link rel="stylesheet" href="../../static/css/me.css" th:href="@{/css/me.css}">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../static/css/typo.css" th:href="@{/css/typo.css}">
    <link rel="stylesheet" href="../static/css/animate.css" th:href="@{/css/animate.css}">
    <link rel="stylesheet" href="../static/lib/prism/prism.css" th:href="@{/lib/prism/prism.css}">
    <link rel="stylesheet" href="../static/lib/tocbot/tocbot.css" th:href="@{/lib/tocbot/tocbot.css}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.1/umd/popper.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
            integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
            crossorigin="anonymous"></script>
    <title>文章列表</title>
</head>

<body>
<!-- NavBar ---------------------------------------------------------------------------->

<nav class="navbar navbar-expand-lg bg-white sticky-top shadow" id="navBar">
    <div class="container">
        <a class="navbar-brand mb-1" href="http://localhost:8080/java014_03_FurKids_MVC/"><img
                src="/images/Logo_07.png" alt="Logo" height="26"/></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown"
                aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-between" id="navbarNavDropdown">
            <div></div>
            <ul class="navbar-nav">
                <li class="nav-item dropdown mr-2">
                    <a class="nav-link dropdown-toggle nav-font" href="#" id="navbarDropdownMenuLink" role="button"
                       data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        寵物商城
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item" href="#">自己加</a>
                    </div>
                </li>
                <li class="nav-item dropdown mx-2">
                    <a class="nav-link dropdown-toggle nav-font" href="#" id="navbarDropdownMenuLink" role="button"
                       data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        寵物交流版
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item" href="#" th:href="@{/}">寵物專欄</a>
                        <a class="dropdown-item" href="#" th:href="@{/login/blogs}">發文</a>
                        <a class="dropdown-item" href="#" th:href="@{/login/types}">分類</a>
                        <a class="dropdown-item" href="#" th:href="@{/login/tags}">標籤</a>
                        <a class="dropdown-item" href="#" th:href="@{/archives}">歸檔</a>
                    </div>
                </li>
                <li class="nav-item dropdown mx-2">
                    <a class="nav-link dropdown-toggle nav-font" href="#" id="navbarDropdownMenuLink" role="button"
                       data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                        寵物健康管理
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item" href="#">自己加</a>
                    </div>
                </li>
                <li class="nav-item dropdown ml-2 mr-5">
                    <a class="nav-link dropdown-toggle nav-font" href="#" id="navbarDropdownMenuLink" role="button"
                       data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">寵物友善系統
                    </a>
                    <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                        <a class="dropdown-item" href="#">自己加</a>
                    </div>
                </li>
            </ul>
            <div class="right m-item item m-mobile-hide">
                <form name="search" action="#" th:action="@{/search}" method="post" target="_blank">
                    <div class="ui icon  transparent input m-margin-tb-tiny">
                        <input type="text" name="query" placeholder="Search...." th:value="${query}">
                        <i onclick="document.forms['search'].submit()" class="search link icon"></i>
                    </div>
                </form>
            </div>
            <div>
                <a href="#" class="mr-3 ml-4"><i class="fas fa-shopping-cart navbar-cart"></i></a>
                <a href="#" th:href="@{/login/logout}" class="mr-2"><i class="fas fa-user navbar-user"></i>
                </a>
            </div>
        </div>
    </div>
</nav>
<main>
    <div id="waypoint" class="m-container-small m-padded-tb-big animated fadeIn">
        <div class="ui container">
            <div class="ui top attached segment">
                <div class="ui horizontal link list">
                    <div class="item">
                        <img src="https://memeprod.sgp1.digitaloceanspaces.com/user-wtf/1597036638548.jpg"
                             th:src="@{${blog.user.avatar}}" alt="" class="ui avatar image">
                        <div class="content"><a href="#" class="header" th:text="${blog.user.nickname}">胖虎</a></div>
                    </div>
                    <div class="item">
                        <i class="calendar icon"></i> <span th:text="${#dates.format(blog.updateTime,'yyyy-MM-dd')}">2020-10-01</span>
                    </div>
                    <div class="item">
                        <i class="eye icon"></i> <span th:text="${blog.views}">2342</span>
                    </div>
                </div>
            </div>
            <div class="ui attached segment">
                <!--圖片-->
                <img src="https://storage.googleapis.com/petsmao-images/images/2020/07/fadb858e-1594365204-156005c5baf40ff51a327f1c34f2975b.jpg"
                     th:src="@{${blog.firstPicture}}" alt="" class="ui fluid rounded image">
            </div>
            <div class="ui  attached padded segment">
                <!--内容-->
                <div class="ui right aligned basic segment">
                    <div class="ui orange basic label" th:text="${blog.flag}">分享</div>
                </div>

                <h2 class="ui center aligned header" th:text="${blog.title}">養柴犬攻略</h2>
                <br>
                <!--中間主要内容部分-->
                <div id="content" class="typo  typo-selection js-toc-content m-padded-lr-responsive m-padded-tb-large"
                     th:utext="${blog.content}">

                    <h2 id="section1">1、<i class="serif">個性固執、有攻擊性</i></h2>
                    <p>柴犬其實是日本古代的獵犬呦，

                        據說是基因最靠近狼的一種品種，

                        也因為此種特性，柴犬在性格的表現上十分大膽、獨立，

                        柴犬還十分的「固執」，若是沒有在幼犬期間就好好教導，長大可是會非常頭痛的，

                        許多寵物訓練師表示，被送來要訓練的十隻裡有八九隻應該都是柴犬...

                        甚至很多美容院都會拒收柴犬喔！！

                        我自己養Toby的感覺是，的確沒有像之前養過的土狗一樣好教，

                        因為偷比爸以前家裡也養過小馬爾濟斯，都搖頭表示Toby是他看過最難教的狗，

                        如果你沒有非常足夠的耐心，真的會被他氣得不要不要，

                        最後可能還會心力交瘁呦！</p>
                    <div id="content" class="typo  typo-selection js-toc-content m-padded-lr-responsive m-padded-tb-large"
                         th:utext="${blog.content}">

                        <h2 id="section1">2、<i class="serif">柴犬運動量很強</i></h2>
                    </div>
                    <p>柴犬天性就喜歡往高處跑、愛奔跑，

                        出門散步30分鐘對他來說根本是熱身、開胃菜而已，

                        如果你沒有自信每天可以帶他出門散步個三次（以上），

                        回家你可能會看到家裡變得非常驚人喔（驚嚇）。

                        這點偷比爸媽都非常有感，Toby從小就展現出他驚人的體力，

                        一天出門散步至少三次，每次20、30分鐘以上，

                        回到家陪他玩你丟我撿的丟球遊戲至少20-30趟，

                        這樣的消耗量對他來說還是非常不夠的，

                        每天都在家裡咬這個咬那個，飛奔來飛奔去亂衝，

                        好像永遠有發洩不完的體力，

                        常常人累了，狗卻還沒累......zzz</p>

                    <div id="content" class="typo  typo-selection js-toc-content m-padded-lr-responsive m-padded-tb-large"
                         th:utext="${blog.content}">

                        <h2 id="section1">3、<i class="serif">皮膚問題，一年四季都在掉毛。</i></h2>
                    </div>
                    <p>柴犬以前生長在東北亞嚴寒的天氣環境下，

                        皮膚是雙層皮毛、相當厚重，

                        在換毛季（換毛一次都很久，我覺得他大概365天都在換毛吧）掉的毛多到會讓你懷疑人生，

                        每天必做的事情就是幫他梳下一坨又一坨的毛髮，

                        地板每天吸地、清理，

                        如果有皮膚過敏的人一定要謹慎思考是否能應付柴犬掉毛的狀況。

                        另外，因為柴犬的雙層毛、厚重毛髮，

                        洗澡完一定要吹到全乾！！！非常重要喔！！

                        雖然吹到全乾很耗時間，但如果毛髮沒有吹乾，

                        很容易會有皮膚問題，或是狗味也會加劇！

                        我自己跟偷比爸每個禮拜會幫偷比洗一次澡，

                        一個月讓他去一次美容院泡藥浴，給專業的清洗耳朵、剪指甲、擠肛門腺等等。

                        每次我們都要出動兩台吹風機，至少10分鐘以上才能把他的毛髮全吹乾，

                        真不敢想像等偷比長大，這個工程會有多耗大！</p>

                    <div id="content" class="typo  typo-selection js-toc-content m-padded-lr-responsive m-padded-tb-large"
                         th:utext="${blog.content}">

                        <h2 id="section1">4、<i class="serif">很戲劇性、尖銳的哀嚎聲。</i></h2>
                    </div>
                    <p>柴犬不喜歡吠叫，基本上不會有吵到左鄰右舍的問題，

                        但柴犬尖銳、刺耳又淒厲的哀號聲，真的會讓你恐懼不已。

                        之前就有耳聞我朋友家的黑柴很愛亂叫，叫聲很難聽，

                        自己養了Toby才知道多可怕，

                        如果你不小心走過去踩到他、幫他洗澡、洗耳朵、擠肛門腺、或是任何大小事情惹到他，

                        他會發出非常悲催、激烈的慘叫哀號聲，

                        曾經就不小心把鄰居引過來看到底是發生什麼狀況（.......以為我們在虐狗吧），

                        我們幾乎不曾聽到他吠叫，哀號聲倒真的比較嚇人（😓</p>

                    <div id="content" class="typo  typo-selection js-toc-content m-padded-lr-responsive m-padded-tb-large"
                         th:utext="${blog.content}">

                        <h2 id="section1">5、<i class="serif">挑食，寧願餓自己個三天三夜。</i></h2>
                    </div>
                    <p>柴犬的挑食應該是很多柴寶家長有目共睹的一大問題，
                        之前剛帶Toby回家，偷比超會吃，還一度擔心他會不會吃太多變太肥，

                        看他每次吃飽還在舔狗碗，怕餓到他給太少（已經超出飼料袋上寫的建議用量），

                        又怕Toby只是單純愛吃，這樣一直給太多飼料會養成他貪吃的習慣，

                        後來在柴版上詢問許多前輩，

                        前輩都表示，現在還小他要吃就給他吃，等他長大換你求他吃，

                        我當時還嗤之以鼻想說怎麼可能，我們家偷比那麼愛吃耶！！

                        結果，真的講話不能太鐵齒，

                        偷比在某一天（真的是非常突然的）就開始挑食了，

                        當時他聞到飼料不像以往很興奮的搖擺尾巴，而是聞一聞一臉沒興趣的樣子，

                        我把飼料放在他固定吃飯的位置，Toby完全不賞臉，聞幾下就跑走了，

                        我一開始是先採10分鐘沒吃完就收走，讓他餓到下一餐的方式，

                        一開始這方法有效果，偷比被餓到，下一餐就會乖乖吃飯，

                        後來進化到，餓幾餐也無所謂了，

                        觀察他的活動量跟精神看起來都不是身體不舒服，

                        去獸醫院打預防針順便請醫師注意一下也沒什麼異狀，

                        應該就是單純挑食！

                        我們家的還不算誇張，但那陣子我真的緊張到不行，

                        甚至使用各種方法，用手一顆一顆餵、把飼料塞進玩具裡給他玩、

                        飼料混搭別的新飼料、飼料加一點點零食......等，

                        那陣子只要偷比不吃飯，我的內心就會很焦慮，

                        明明餓到他，緊張的卻是阿娘我（自作孽啊），

                        所以說，柴犬的挑食是每個柴寶家長心中有目共睹的可怕，

                        我們家的後來是透過給他食物直接忽視他不理他，讓他覺得不吃飯也沒人要跟他玩，

                        他發現我們不理他，食物還有可能等下被收走，就會乖乖跑去吃完，

                        再跑來你腳邊撒嬌，

                        我看過有些人分享自己家的柴寶寧可餓到吐胃酸也不進食的狀況，

                        看了真的是怵目心驚啊！！！

                        但各位柴寶家長們，千萬不可以寵著柴寶，

                        你現在怎麼寵他，以後痛苦的是自己，有挑食行為就要矯正喔！！</p>

                    <div id="content" class="typo  typo-selection js-toc-content m-padded-lr-responsive m-padded-tb-large"
                         th:utext="${blog.content}">

                        <h2 id="section1">6、<i class="serif">一放手，可能一輩子就say goodbye了。</i></h2>
                    </div>
                    <p>真的必須！再三！！告知各位狗友們，

                        牽繩是必備的，除了避免狗狗走失，也可以讓他們在險象環生的馬路上，

                        不會因為一點驚嚇而暴衝跑到馬路上而發生意外，

                        不管是散步、外出多近的地方，請務必一定要將自己的愛犬繫上牽繩。

                        柴犬更是一種，一但跑了，就很難叫回來的犬種。

                        不像一般的狗狗，可能聽到主人在呼喚他，還會回頭，

                        或是自己走丟了，會想辦法找回家的路，

                        柴犬基本上是六親不認的那種，

                        曾經有一次偷比媽想說要讓偷比在社區騎樓下玩你丟我撿的遊戲，

                        因為那邊屬於私人空間，不會有車輛進出，就在家門口而且附近鄰居也都很熟悉，

                        在偷比媽剛拿出玩具帶著他走出室外，把他一放到地上的那一瞬間，

                        不得了了偷比竟然開始爆衝！！狂衝！！

                        我在後面一直喊他，叫他都不理我，怎麼追他，他的小短腿就是跑得比我快，

                        繞過一條又一條路，眼看要飛奔出馬路，我的心都涼了，

                        這時候馬路路口轉角剛好有一個鄰居走進來，

                        好在偷比平時很親人，看到鄰居大嬸馬上煞車，往鄰居大嬸身上飛撲，

                        我才得以抓到空擋把他抓住，直接帶回家關緊閉處理，

                        從此再也不敢抱著僥倖心態「喔～他應該會聽我的呼喚乖乖回來吧」這種想法了。

                        跟偷比爸討論後，發現其實也有好幾次我們開小門縫要出門，

                        偷比看到有縫隙就往門口暴衝狂擠要跑出去的狀況，

                        因此都達成共識!!出入的時候除了要特別小心外，

                        誰敢把他帶出門不繫上牽繩，就是想跟他永遠say goodbye了！！</p>
                </div>

                <div class="m-padded-lr-responsive">
                    <div class="ui basic teal left pointing label" th:each="tag : ${blog.tags}" th:text="${tag.name}">
                        柴柴
                    </div>
                </div>
            </div>
            <div class="ui attached positive message" th:if="${blog.shareStatement}">
                <!--博客信息-->
                <div class="ui middle aligned grid">
                    <div class="eleven wide column">
                        <ui class="list">
                            <li>作者：<span th:text="${blog.user.nickname}">YOYO</span><a href="#" th:href="@{/about}" target="_blank">（聯絡作者）</a></li>
                            <li>發文時間：<span th:text="${#dates.format(blog.updateTime,'yyyy-MM-dd HH:mm')}">2020-10-02 09:08</span>
                            </li>
                            <li>版權聲明:自由分享-保持屬名</li>
                        </ui>
                    </div>
                </div>
            </div>
            <div class="ui bottom attached segment" th:if="${blog.commentabled}">
                <!--留言列表-->
                <div id="comment-container"  class="ui teal segment">
                    <div th:fragment="commentList">
                        <div class="ui threaded comments" style="max-width: 100%;">
                            <h3 class="ui dividing header">留言</h3>
                            <div class="comment" th:each="comment : ${comments}">
                                <a class="avatar">
                                    <img src="https://unsplash.it/100/100?image=1005" th:src="@{${comment.avatar}}">
                                </a>
                                <div class="content">
                                    <a class="author" >
                                        <span th:text="${comment.nickname}">YO</span>
                                        <div class="ui mini basic teal left pointing label m-padded-mini" th:if="${comment.adminComment}">會員</div>
                                    </a>
                                    <div class="metadata">
                                        <span class="date" th:text="${#dates.format(comment.createTime,'yyyy-MM-dd HH:mm')}">Today at 5:42PM</span>
                                    </div>
                                    <div class="text" th:text="${comment.content}">
                                        麥克風測試
                                    </div>
                                    <div class="actions">
                                        <a class="reply" data-commentid="1" data-commentnickname="Matt" th:attr="data-commentid=${comment.id},data-commentnickname=${comment.nickname}" onclick="reply(this)">回覆</a>
                                    </div>
                                </div>
                                <div class="comments" th:if="${#arrays.length(comment.replyComments)}>0">
                                    <div class="comment" th:each="reply : ${comment.replyComments}">
                                        <a class="avatar">
                                            <img src="https://unsplash.it/100/100?image=1005" th:src="@{${reply.avatar}}">
                                        </a>
                                        <div class="content">
                                            <a class="author" >
                                                <span th:text="${reply.nickname}">小红</span>
                                                <div class="ui mini basic teal left pointing label m-padded-mini" th:if="${reply.adminComment}">會員</div>
                                                &nbsp;<span th:text="|@ ${reply.parentComment.nickname}|" class="m-teal">@ 小白</span>
                                            </a>
                                            <div class="metadata">
                                                <span class="date" th:text="${#dates.format(reply.createTime,'yyyy-MM-dd HH:mm')}">Today at 5:42PM</span>
                                            </div>
                                            <div class="text" th:text="${reply.content}">
                                                測試123
                                            </div>
                                            <div class="actions">
                                                <a class="reply" data-commentid="1" data-commentnickname="Matt" th:attr="data-commentid=${reply.id},data-commentnickname=${reply.nickname}" onclick="reply(this)">回覆</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!--/*-->
                            <div class="comment">
                                <a class="avatar">
                                    <img src="https://unsplash.it/100/100?image=1005">
                                </a>
                                <div class="content">
                                    <a class="author">小綠</a>
                                    <div class="metadata">
                                        <span class="date">Yesterday at 12:30AM</span>
                                    </div>
                                    <div class="text">
                                        <p>再測試123</p>
                                    </div>
                                    <div class="actions">
                                        <a class="reply">回覆</a>
                                    </div>
                                </div>
                                <div class="comments">
                                    <div class="comment">
                                        <a class="avatar">
                                            <img src="https://unsplash.it/100/100?image=1005">
                                        </a>
                                        <div class="content">
                                            <a class="author">小藍</a>
                                            <div class="metadata">
                                                <span class="date">Just now</span>
                                            </div>
                                            <div class="text">
                                                32122222
                                            </div>
                                            <div class="actions">
                                                <a class="reply">回覆</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="comment" th:each="comment : ${comments}">
                                <a class="avatar">
                                    <img src="https://unsplash.it/100/100?image=1005" th:src="@{${comment.avatar}}">
                                </a>
                                <div class="content">
                                    <a class="author" >
                                        <span th:text="${comment.nickname}">YO</span>
                                        <div class="ui mini basic teal left pointing label m-padded-mini" th:if="${comment.adminComment}">管理員</div>
                                    </a>
                                    <div class="metadata">
                                        <span class="date" th:text="${#dates.format(comment.createTime,'yyyy-MM-dd HH:mm')}">Just now</span>
                                    </div>
                                    <div class="text" th:text="${comment.content}">
                                        留言測試
                                    </div>
                                    <div class="actions">
                                        <a class="reply" data-commentid="1" data-commentnickname="Matt" th:attr="data-commentid=${comment.id},data-commentnickname=${comment.nickname}" onclick="reply(this)">回覆</a>
                                    </div>
                                </div>
                                <!--*/-->

                            </div>
                        </div>
                    </div>
                </div>
                    <div id="comment-form" class="ui form">
                        <input type="hidden" name="blog.id" th:value="${blog.id}">
                        <input type="hidden" name="parentComment.id" value="-1">
                        <div class="field">
                            <textarea name="content" placeholder="輸入留言...."></textarea>
                        </div>
                        <div class="fields">
                            <div class="field m-mobile-wide m-margin-bottom-small">
                                <div class="ui left icon input">
                                    <i class="user icon"></i>
                                    <input type="text" name="nickname" placeholder="姓名" th:value="${session.user}!=null ? ${session.user.nickname}">
                                </div>
                            </div>
                            <div class="field m-mobile-wide m-margin-bottom-small">
                                <div class="ui left icon input">
                                    <i class="mail icon"></i>
                                    <input type="text" name="email" placeholder="信箱" th:value="${session.user}!=null ? ${session.user.email}">
                                </div>
                            </div>
                            <div class="field  m-margin-bottom-small m-mobile-wide">
                                <button id="commentpost-btn" type="button" class="ui teal button m-mobile-wide"><i class="edit icon"></i>傳送</button>
                            </div>
                        </div>
                    </div>
            </div>
        </div>
    </div>


</main>

<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS ----------------------------------->

<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
        integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
        crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
        integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
        crossorigin="anonymous"></script>
<!-- jQuery first, then Popper.js, then Bootstrap JS End-------------------------------->

<!-- JavaScript Plug-in ---------------------------------------------------------------->

<!-- icon -->
<script src="https://kit.fontawesome.com/8e822d04fb.js" crossorigin="anonymous"></script>



<!-- JavaScript Plug-in End------------------------------------------------------------->

<!--   <script src="./resources/javascript/blogIndex.js"></script> -->

<script src="../static/js/jquery.stellar.js" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.2/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/semantic-ui/2.2.4/semantic.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/jquery.scrollto@2.1.2/jquery.scrollTo.min.js"></script>
<script src="../static/lib/prism/prism.js" th:src="@{/lib/prism/prism.js}"></script>
<script src="../static/lib/tocbot/tocbot.min.js" th:src="@{/lib/tocbot/tocbot.min.js}"></script>
<script src="../static/lib/waypoints/jquery.waypoints.min.js" th:src="@{/lib/waypoints/jquery.waypoints.min.js}"></script>
<!--/*/</th:block>/*/-->



<script th:inline="javascript">
    $('.menu.toggle').click(function () {
        $('.m-item').toggleClass('m-mobile-hide');
    });

    $('#payButton').popup({
        popup : $('.payQR.popup'),
        on : 'click',
        position: 'bottom center'
    });
    tocbot.init({
        // Where to render the table of contents.
        tocSelector: '.js-toc',
        // Where to grab the headings to build the table of contents.
        contentSelector: '.js-toc-content',
        // Which headings to grab inside of the contentSelector element.
        headingSelector: 'h1, h2, h3',
    });
    $('.toc.button').popup({
        popup : $('.toc-container.popup'),
        on : 'click',
        position: 'left center'
    });

    $('.wechat').popup({
        popup : $('.wechat-qr'),
        position: 'left center'
    });
    var serurl = /*[[#{blog.serurl}]]*/"127.0.0.1:8080";
    var url = /*[[@{/blog/{id}(id=${blog.id})}]]*/"";


    $('#toTop-button').click(function () {
        $(window).scrollTo(0,500);
    });
    var waypoint = new Waypoint({
        element: document.getElementById('waypoint'),
        handler: function(direction) {
            if (direction == 'down') {
                $('#toolbar').show(100);
            } else {
                $('#toolbar').hide(500);
            }
            console.log('Scrolled to waypoint!  ' + direction);
        }
    })


    //表單驗證
    $('.ui.form').form({
        fields: {
            title: {
                identifier: 'content',
                rules: [{
                    type: 'empty',
                    prompt: '輸入內容'
                }
                ]
            },
            content: {
                identifier: 'nickname',
                rules: [{
                    type: 'empty',
                    prompt: '名字'
                }]
            },
            type: {
                identifier: 'email',
                rules: [{
                    type: 'email',
                    prompt: 'email'
                }]
            }
        }
    });
    $(function () {
        $("#comment-container").load(/*[[@{/comments/{id}(id=${blog.id})}]]*/"comments/4");
    });

    $('#commentpost-btn').click(function () {
        var boo = $('.ui.form').form('validate form');
        if(boo) {
            console.log('校驗成功');
            postData();
        } else {
            console.log('校驗失敗');
        }
    });

    //JQUERY的load請求
    function postData() {
        $("#comment-container").load(/*[[@{/comments}]]*/"",{
            "parentComment.id" : $("[name='parentComment.id']").val(),
            "blog.id" : $("[name='blog.id']").val(),
            "nickname": $("[name='nickname']").val(),
            "email"   : $("[name='email']").val(),
            "content" : $("[name='content']").val()
        },function (responseTxt, statusTxt, xhr) {
//        $(window).scrollTo($('#comment-container'),500);
            clearContent();
        });
    }
    function clearContent() {
        $("[name='content']").val('');
        $("[name='parentComment.id']").val(-1);
        $("[name='content']").attr("placeholder", "請輸入留言內容");
    }

    function reply(obj) {
        var commentId = $(obj).data('commentid');
        var commentNickname = $(obj).data('commentnickname');
        $("[name='content']").attr("placeholder","@"+commentNickname).focus();
        $("[name='parentComment.id']").val(commentId);
        $(window).scrollTo($('#comment-form'),500);

    }


</script>
</body>
</html>